<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SOLD OUT! Comedy</title>
  <link rel="icon" type="image/png" href="web/images/soldoutlogo.png">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Bangers:wght@400&family=Inter:wght@300;400;600;700&display=swap">
<style>
  /* === CSS VARIABLES === */
  :root {
    --comic-red: #FF3B3B;
    --comic-blue: #4A90E2;
    --comic-yellow: #FFD93D;
    --comic-orange: #FF9500;
    --comic-purple: #9B59B6;
    --comic-green: #2ECC71;
    --comic-black: #2C2C2C;
    --comic-white: #FFFFFF;
  }

  /* === BASE STYLES === */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    background: #FFD93D;
    background-image:
      repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(255,255,255,.05) 2px, rgba(255,255,255,.05) 4px),
      repeating-linear-gradient(90deg, transparent, transparent 2px, rgba(255,255,255,.05) 2px, rgba(255,255,255,.05) 4px);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* === OVERLAYS === */
  .halftone-overlay {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 9998;
    background-image: radial-gradient(circle, rgba(255,59,59,.12) 1.5px, transparent 1.5px);
    background-size: 6px 6px;
    mix-blend-mode: multiply;
  }

  /* === COMIC PANEL COMPONENT === */
  .comic-panel {
    background: var(--comic-white);
    border: 5px solid var(--comic-black);
    box-shadow: inset -3px -3px 0 rgba(0,0,0,.2), 8px 8px 0 rgba(0,0,0,.3);
    position: relative;
  }

  .comic-panel::before {
    content: '';
    position: absolute;
    top: -5px;
    left: -5px;
    right: -5px;
    bottom: -5px;
    border: 2px solid var(--comic-black);
    pointer-events: none;
  }

  /* === HERO SECTION === */
  .hero {
    padding: 3rem 1.5rem 2rem;
    text-align: center;
    position: relative;
    z-index: 2;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  .hero-logo {
    max-width: 350px;
    width: 100%;
    height: auto;
    margin-bottom: 2rem;
    filter: drop-shadow(8px 8px 0 rgba(0,0,0,.8)) contrast(1.2) saturate(1.3);
    transition: transform 0.3s ease;
    border: 6px solid var(--comic-black);
    background: white;
    padding: 1rem;
  }

  .hero-logo:hover {
    transform: scale(1.05) rotate(-2deg);
  }

  .hero-subtitle {
    font-family: 'Bangers', cursive;
    font-size: clamp(2.5rem, 5vw, 4.5rem);
    color: var(--comic-red);
    text-shadow: 4px 4px 0 var(--comic-black), 2px 2px 0 var(--comic-yellow);
    letter-spacing: 2px;
    line-height: 1;
    margin-bottom: 2rem;
    text-transform: uppercase;
    background: white;
    padding: 1.5rem 2.5rem;
    border: 6px solid var(--comic-black);
    border-radius: 0;
    position: relative;
    display: inline-block;
    box-shadow: 8px 8px 0 rgba(0,0,0,.9);
    transition: transform 0.3s ease;
    font-weight: 400;
    transform: rotate(-1deg);
  }

  .hero-subtitle:hover {
    transform: rotate(-1deg) scale(1.02);
  }


  .hero-description {
    font-size: 1.15rem;
    color: var(--comic-black);
    max-width: 850px;
    margin: 0 auto 2.5rem;
    line-height: 1.6;
    background: white;
    padding: 2rem;
    border: 6px solid var(--comic-black);
    border-radius: 0;
    box-shadow: 8px 8px 0 rgba(0,0,0,.9);
    position: relative;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    font-weight: 600;
  }

  .hero-description:hover {
    transform: translate(-2px, -2px);
    box-shadow: 10px 10px 0 rgba(0,0,0,.9);
  }

  /* === EDITION CARDS === */
  .two-cards {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    max-width: 1200px;
    margin: 2.5rem auto;
    padding: 0 1.5rem;
  }

  .edition-card {
    background: white;
    border: 6px solid var(--comic-black);
    border-radius: 0;
    padding: 2rem;
    transition: all 0.2s ease;
    position: relative;
    box-shadow: 8px 8px 0 rgba(0,0,0,.9);
    overflow: visible;
  }

  .edition-card::before {
    display: none;
  }

  .edition-card:hover {
    transform: translate(-2px, -2px);
    box-shadow: 10px 10px 0 rgba(0,0,0,.9);
  }

  .edition-card.stage-edition {
    background: #FFE5E5;
    border-color: var(--comic-black);
  }

  .edition-card.stage-edition::before {
    display: none;
  }

  .edition-card.screen-edition {
    background: #E3F2FF;
    border-color: var(--comic-black);
  }

  .edition-card.screen-edition h3 {
    color: var(--comic-blue);
  }

  .edition-card.screen-edition .subtitle {
    color: #2C5AA0;
    background: #B3D9FF;
  }

  .edition-card.screen-edition::before {
    display: none;
  }

  .edition-card h3 {
    font-family: 'Bangers', cursive;
    font-size: clamp(2.5rem, 4vw, 3.5rem);
    color: var(--comic-red);
    text-shadow: 3px 3px 0 var(--comic-black);
    letter-spacing: 2px;
    margin-bottom: 1rem;
    position: relative;
    z-index: 1;
    line-height: 1;
  }

  .edition-card .subtitle {
    font-size: 0.9rem;
    color: var(--comic-black);
    font-weight: 900;
    margin-bottom: 1.5rem;
    letter-spacing: 1px;
    text-transform: uppercase;
    background: var(--comic-yellow);
    display: inline-block;
    padding: 0.5rem 1rem;
    border: 4px solid var(--comic-black);
    border-radius: 0;
    box-shadow: 4px 4px 0 rgba(0,0,0,.9);
  }

  .edition-card p {
    font-size: 1.15rem;
    line-height: 1.8;
    color: var(--comic-black);
    font-weight: 400;
    position: relative;
    z-index: 1;
  }

  /* === THEMES SECTION === */
  .themes-section {
    background: rgba(255, 217, 61, 0.15);
    backdrop-filter: blur(10px);
    border: 2px solid rgba(255, 217, 61, 0.3);
    border-radius: 20px;
    padding: 2rem;
    margin-top: 2rem;
    text-align: left;
    box-shadow: 0 8px 25px rgba(0,0,0,.05);
    position: relative;
    z-index: 1;
  }

  .themes-section h4 {
    font-family: 'Bangers', cursive;
    font-size: 1.5rem;
    color: var(--comic-black);
    text-shadow: none;
    letter-spacing: 1.5px;
    margin-bottom: 1rem;
  }

  .themes-list {
    list-style: none;
    padding: 0;
    margin: 0;
    text-align: left;
  }

  .themes-list li {
    font-size: 1.1rem;
    margin: .7rem 0;
    position: relative;
    padding-left: 2rem;
    font-weight: 600;
    color: var(--comic-black);
  }

  .themes-list li::before {
    content: "★";
    position: absolute;
    left: 0;
    top: 0;
    font-size: 1.5rem;
    line-height: 1.1rem;
    color: var(--comic-red);
    text-shadow: 2px 2px 0 var(--comic-black);
  }

  /* === SCHEDULE SECTION === */
  .schedule-section {
    background: var(--comic-green);
    color: var(--comic-white);
    padding: 2.5rem 2rem;
    margin: 2.5rem auto;
    max-width: 1200px;
    border: 6px solid var(--comic-black);
    border-radius: 0;
    box-shadow: 8px 8px 0 rgba(0,0,0,.9);
    position: relative;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .schedule-section:hover {
    transform: translate(-2px, -2px);
    box-shadow: 10px 10px 0 rgba(0,0,0,.9);
  }

  .schedule-section h2 {
    font-family: 'Bangers', cursive;
    font-size: clamp(2.5rem, 5vw, 4.5rem);
    color: var(--comic-white);
    text-shadow: 4px 4px 0 var(--comic-black);
    margin-bottom: 0.75rem;
    text-align: center;
    font-weight: 400;
    letter-spacing: 3px;
    line-height: 1;
  }

  .schedule-section > p {
    text-align: center;
    font-size: 1rem;
    font-weight: 700;
    margin-bottom: 2rem;
    color: var(--comic-white);
    text-shadow: 2px 2px 0 var(--comic-black);
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  #schedule-container {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    grid-auto-rows: minmax(200px, auto);
    gap: 1.5rem;
  }

  /* Bento box pattern - varied sizes */
  #schedule-container > div:nth-child(6n + 1) {
    grid-column: span 2;
    grid-row: span 2;
  }

  #schedule-container > div:nth-child(6n + 2) {
    grid-column: span 2;
    grid-row: span 1;
  }

  #schedule-container > div:nth-child(6n + 3) {
    grid-column: span 2;
    grid-row: span 1;
  }

  #schedule-container > div:nth-child(6n + 4) {
    grid-column: span 3;
    grid-row: span 1;
  }

  #schedule-container > div:nth-child(6n + 5) {
    grid-column: span 3;
    grid-row: span 1;
  }

  #schedule-container > div:nth-child(6n + 6) {
    grid-column: span 2;
    grid-row: span 2;
  }

  /* === CONSIGNMENT SECTION === */
  .consignment-section {
    background: var(--comic-purple);
    color: var(--comic-white);
    padding: 2.5rem 2rem;
    margin: 2.5rem auto;
    max-width: 1200px;
    border: 6px solid var(--comic-black);
    border-radius: 0;
    box-shadow: 8px 8px 0 rgba(0,0,0,.9);
    position: relative;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }

  .consignment-section:hover {
    transform: translate(-2px, -2px);
    box-shadow: 10px 10px 0 rgba(0,0,0,.9);
  }

  .consignment-section h2 {
    font-family: 'Bangers', cursive;
    font-size: clamp(2rem, 4vw, 3.5rem);
    color: var(--comic-white);
    text-shadow: 4px 4px 0 var(--comic-black);
    margin-bottom: 1.5rem;
    text-align: center;
    font-weight: 400;
    letter-spacing: 2px;
    line-height: 1.1;
  }

  .consignment-section p {
    font-size: 1.05rem;
    line-height: 1.6;
    margin: 0;
    text-align: center;
    font-weight: 600;
    text-shadow: 2px 2px 0 var(--comic-black);
  }

  /* === REVIEWS SECTION === */
  .reviews-section {
    background: var(--comic-orange);
    color: var(--comic-white);
    padding: 3rem 2rem;
    margin: 2.5rem 0;
    border: 6px solid var(--comic-black);
    border-left: none;
    border-right: none;
    position: relative;
    box-shadow: inset 0 6px 0 rgba(0,0,0,.3), inset 0 -6px 0 rgba(0,0,0,.3);
  }

  .reviews-section .section-title {
    font-family: 'Bangers', cursive;
    font-size: clamp(2.5rem, 5vw, 4.5rem);
    text-align: center;
    margin-bottom: 2.5rem;
    color: var(--comic-white);
    text-shadow: 4px 4px 0 var(--comic-black);
    letter-spacing: 3px;
    line-height: 1;
  }

  .reviews-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2.5rem;
    max-width: 1400px;
    margin: 0 auto;
    justify-content: center;
  }

  .review-card {
    background: transparent;
    color: var(--comic-black);
    padding: 0;
    border: none;
    box-shadow: none;
    transition: all 0.2s ease;
    position: relative;
    overflow: visible;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .review-card:hover {
    transform: translate(-2px, -2px) rotate(0deg) !important;
  }

  /* Rotating and shifting variations */
  .review-card:nth-child(7n + 1) {
    transform: rotate(-2deg) translateY(5px);
  }

  .review-card:nth-child(7n + 2) {
    transform: rotate(3deg) translateY(-8px);
  }

  .review-card:nth-child(7n + 3) {
    transform: rotate(-3deg) translateY(10px);
  }

  .review-card:nth-child(7n + 4) {
    transform: rotate(1deg) translateY(-5px);
  }

  .review-card:nth-child(7n + 5) {
    transform: rotate(2deg) translateY(8px);
  }

  .review-card:nth-child(7n + 6) {
    transform: rotate(-1deg) translateY(-10px);
  }

  .review-card:nth-child(7n + 7) {
    transform: rotate(2deg) translateY(5px);
  }

  .review-photo {
    max-width: 280px;
    max-height: 280px;
    width: auto;
    height: auto;
    object-fit: contain;
    border: 6px solid var(--comic-black);
    filter: contrast(1.3) saturate(1.4);
    background: white;
    box-shadow: 8px 8px 0 rgba(0,0,0,.9);
    display: block;
    padding: 1rem;
  }

  .review-content {
    margin-top: 15px;
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    position: relative;
    background: white;
    border: 5px solid var(--comic-black);
    border-radius: 30px;
    box-shadow: 6px 6px 0 rgba(0,0,0,.7);
    min-height: 160px;
    width: 280px;
    max-width: 280px;
  }

  .review-content::before {
    content: '';
    position: absolute;
    top: -20px;
    left: 30px;
    width: 0;
    height: 0;
    border-left: 15px solid transparent;
    border-right: 15px solid transparent;
    border-bottom: 20px solid white;
    z-index: 2;
  }

  .review-content::after {
    content: '';
    position: absolute;
    top: -27px;
    left: 27px;
    width: 0;
    height: 0;
    border-left: 18px solid transparent;
    border-right: 18px solid transparent;
    border-bottom: 25px solid var(--comic-black);
    z-index: 1;
  }

  .stars {
    font-size: 1.5rem;
    margin-bottom: 0.75rem;
  }

  .filled-star {
    color: var(--comic-yellow);
    text-shadow: 2px 2px 0 var(--comic-black);
  }

  .empty-star {
    color: #ddd;
    text-shadow: 1px 1px 0 rgba(0,0,0,.2);
  }

  .review-text {
    font-size: 1rem;
    line-height: 1.4;
    margin-bottom: 0.75rem;
    font-style: italic;
    font-weight: 600;
    flex: 1;
  }

  .reviewer {
    font-weight: 900;
    color: var(--comic-black);
    text-align: right;
    text-shadow: none;
    font-size: 0.9rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  /* === CTA SECTION === */
  .cta-section {
    position: relative;
    display: flex;
    justify-content: center;
    margin: 3rem 0;
  }

  .burst-wrap {
    position: relative;
    display: inline-block;
  }

  .burst-svg {
    width: min(90vw, 900px);
    height: auto;
    display: block;
    filter: drop-shadow(12px 12px 0 rgba(0,0,0,.4));
  }

  .tagline {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Bangers', cursive;
    font-size: clamp(3rem, 7vw, 7rem);
    color: var(--comic-red);
    text-shadow: 5px 5px 0 var(--comic-black), 3px 3px 0 var(--comic-yellow);
    letter-spacing: 5px;
    line-height: 1.1;
    transform: rotate(-2deg);
    pointer-events: none;
  }

  /* === FOOTER === */
  footer {
    background: var(--comic-black);
    color: var(--comic-white);
    padding: 3rem 2rem 1rem;
    border-top: 8px solid var(--comic-yellow);
    position: relative;
  }

  footer::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 8px;
    background: repeating-linear-gradient(
      90deg,
      var(--comic-yellow) 0px,
      var(--comic-yellow) 20px,
      var(--comic-red) 20px,
      var(--comic-red) 40px,
      var(--comic-blue) 40px,
      var(--comic-blue) 60px
    );
  }

  .footer-content {
    max-width: 1200px;
    margin: 0 auto;
    text-align: center;
  }

  .social-links {
    display: flex;
    justify-content: center;
    gap: 2rem;
    margin-bottom: 2rem;
    flex-wrap: wrap;
  }

  .social-link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 60px;
    height: 60px;
    text-decoration: none;
    background: var(--comic-white);
    border: 4px solid var(--comic-yellow);
    transition: .2s;
    box-shadow: 4px 4px 0 rgba(0,0,0,.3);
  }

  .social-link:hover {
    transform: rotate(0deg) scale(1.15) !important;
    box-shadow: 6px 6px 0 rgba(0,0,0,.4);
    border-color: var(--comic-red);
  }

  .copyright {
    font-size: .9rem;
    opacity: .8;
    border-top: 3px solid var(--comic-yellow);
    padding-top: 1rem;
    margin-top: 1rem;
    font-weight: 600;
    letter-spacing: 1px;
  }

  /* === BORING LINKS FOOTER === */
  .boring-footer {
    background: #f8f9fa;
    padding: 1.5rem 2rem;
    border-top: 1px solid #dee2e6;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
  }

  .boring-footer-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 2rem;
    flex-wrap: wrap;
  }

  .boring-footer a {
    color: #495057;
    text-decoration: none;
    font-size: 0.875rem;
    font-weight: 500;
    letter-spacing: 0.5px;
    transition: color 0.2s;
  }

  .boring-footer a:hover {
    color: #212529;
  }

  .boring-footer .separator {
    color: #dee2e6;
  }

  /* === MODAL/POPUP === */
  .modal-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(8px);
    z-index: 9999;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .modal-overlay.active {
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 1;
  }

  .modal-content {
    background: white;
    border-radius: 24px;
    max-width: 700px;
    width: 90%;
    max-height: 85vh;
    box-shadow: 0 30px 80px rgba(0,0,0,.2);
    position: relative;
    display: flex;
    flex-direction: column;
    transform: scale(0.9);
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .modal-overlay.active .modal-content {
    transform: scale(1);
  }

  .modal-header {
    padding: 2.5rem 2.5rem 1.5rem;
    border-bottom: 2px solid #f0f0f0;
  }

  .modal-header h2 {
    font-family: 'Bangers', cursive;
    font-size: 2.5rem;
    color: var(--comic-red);
    margin: 0;
    letter-spacing: 2px;
  }

  .modal-close {
    position: absolute;
    top: 1.5rem;
    right: 1.5rem;
    background: #f5f5f5;
    border: none;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 1.5rem;
    color: #666;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
  }

  .modal-close:hover {
    background: #e0e0e0;
    color: #333;
    transform: rotate(90deg);
  }

  .modal-body {
    padding: 2rem 2.5rem;
    overflow-y: auto;
    flex: 1;
  }

  .modal-body h3 {
    font-family: 'Bangers', cursive;
    font-size: 1.5rem;
    color: var(--comic-black);
    margin: 1.5rem 0 1rem;
    letter-spacing: 1px;
  }

  .modal-body h3:first-child {
    margin-top: 0;
  }

  .modal-body p {
    font-size: 1rem;
    line-height: 1.7;
    color: #444;
    margin-bottom: 1rem;
  }

  .modal-body strong {
    color: var(--comic-red);
    font-weight: 600;
  }

  .modal-body ul {
    list-style: none;
    padding-left: 0;
    margin: 1rem 0;
  }

  .modal-body ul li {
    padding-left: 1.5rem;
    margin-bottom: 0.75rem;
    position: relative;
    line-height: 1.6;
  }

  .modal-body ul li::before {
    content: "→";
    position: absolute;
    left: 0;
    color: var(--comic-red);
    font-weight: bold;
  }

  @media (max-width: 768px) {
    .modal-content {
      width: 95%;
      max-height: 90vh;
    }

    .modal-header {
      padding: 2rem 1.5rem 1rem;
    }

    .modal-header h2 {
      font-size: 2rem;
    }

    .modal-body {
      padding: 1.5rem;
    }

    .modal-close {
      top: 1rem;
      right: 1rem;
      width: 36px;
      height: 36px;
    }
  }

  /* === RESPONSIVE === */
  @media (max-width: 1024px) {
    .two-cards {
      grid-template-columns: 1fr;
    }

    #schedule-container {
      grid-template-columns: repeat(3, 1fr);
    }

    /* Simplify bento box for tablets */
    #schedule-container > div:nth-child(n) {
      grid-column: span 1;
      grid-row: span 1;
    }

    #schedule-container > div:nth-child(3n + 1) {
      grid-column: span 2;
    }

    .reviews-grid {
      grid-template-columns: repeat(2, 1fr);
    }

    .reviews-grid > div:nth-child(n) {
      grid-column: span 1;
    }

    .reviews-grid > div:nth-child(odd) {
      grid-column: span 1;
    }
  }

  @media (max-width: 768px) {
    .hero {
      padding: 3rem 1.5rem;
      min-height: auto;
    }

    .hero-logo {
      max-width: 280px;
      margin-bottom: 2rem;
    }

    .hero-subtitle {
      font-size: clamp(1.6rem, 5vw, 2.2rem);
      padding: 1.2rem 2rem;
      margin-bottom: 2rem;
    }

    .hero-description {
      font-size: 1.1rem;
      padding: 2rem;
      margin-bottom: 3rem;
    }

    .two-cards {
      grid-template-columns: 1fr;
      gap: 2rem;
      margin: 2rem auto;
      padding: 0 1.5rem;
    }

    .edition-card {
      padding: 2.5rem;
    }

    .edition-card h3 {
      font-size: 2.5rem;
    }

    .edition-card p {
      font-size: 1.1rem;
    }

    .schedule-section {
      padding: 3rem 2rem;
      margin: 3rem auto;
      border-radius: 30px;
    }

    .schedule-section h2 {
      font-size: 2.5rem;
    }

    #schedule-container {
      grid-template-columns: 1fr;
      gap: 1.5rem;
    }

    #schedule-container > div:nth-child(n) {
      grid-column: span 1;
      grid-row: span 1;
    }

    .consignment-section {
      padding: 3rem 2rem;
      margin: 3rem auto;
      border-radius: 30px;
    }

    .consignment-section h2 {
      font-size: 2.5rem;
    }

    .consignment-section p {
      font-size: 1.1rem;
    }

    .reviews-section {
      padding: 3rem 2rem;
      margin: 3rem 0;
    }

    .reviews-grid {
      grid-template-columns: 1fr;
      gap: 2rem;
    }

    .reviews-grid > div:nth-child(n) {
      grid-column: span 1;
    }

    .review-card {
      padding: 1.8rem;
    }

    .social-links {
      gap: 1rem;
    }

    .social-link {
      width: 60px;
      height: 60px;
    }
  }

  @media (max-width: 480px) {
    .hero {
      padding: 2rem 1rem;
    }

    .hero-subtitle {
      padding: 1rem 1.5rem;
    }

    .hero-description {
      font-size: 1rem;
      padding: 1.5rem;
    }

    .edition-card {
      padding: 2rem;
    }

    .schedule-section,
    .consignment-section {
      padding: 2.5rem 1.5rem;
      border-radius: 24px;
    }

    .reviews-section {
      padding: 2.5rem 1.5rem;
    }
  }
</style>
</head>
<body>
  <div class="halftone-overlay"></div>

  <section class="hero">
    <p class="hero-subtitle">Live Comedy Meets Live Shopping</p>

    <img src="web/images/soldoutlogo.png" alt="SOLD OUT! Comedy" class="hero-logo">

    <div class="hero-description">
      Live selling is a $68 billion market, but let's be real, <a href="https://www.reddit.com/r/whatnotapp/comments/1ntac3q/once_again_crashout_on_whatnot_pt1/?utm_source=share&utm_medium=web3x&utm_name=web3xcss&utm_term=1&utm_content=share_button" target="_blank" rel="noopener noreferrer" style="color: var(--comic-red); font-weight: 700; text-decoration: underline;">it's painful to watch</a>. We're changing that. Give us that dusty juicer to sell and it becomes a prop in an improv sketch while the live and online audiences both bid on it. We'll sell out our dignity to sell out your stuff.
    </div>

    <div class="two-cards">
      <div class="edition-card stage-edition">
        <h3>Stage Edition</h3>
        <div class="subtitle">Live-In-Person and Online Audiences</div>
        <p>Full theatrical improv where YOUR items become props in hilarious sketches. Bring something to sell, watch comedians transform it on stage, and let both live and online audiences battle it out in the bidding war. That bread maker? It's about to become a flux capacitor.</p>
        <div class="themes-section">
          <h4>Stage Edition Features</h4>
          <ul class="themes-list">
            <li>Phones encouraged (bid, chat, scroll through Reddit!)</li>
            <li>Online + in-person audiences together</li>
            <li>Your junk becomes comedy gold</li>
          </ul>
        </div>
      </div>

      <div class="edition-card screen-edition">
        <h3>Screen Edition</h3>
        <div class="subtitle">Online Audience Only</div>
        <p>Join us online/live for skits where we try and sell you a random pile of socks we impulse-bought from Temu at 2 AM. Baby needs a new pair of shoes! -Baby already has plenty of socks.</p>
        <div class="themes-section">
          <h4>Upcoming Themes</h4>
          <ul class="themes-list">
            <li>Socks (Yes, we're serious about the socks.)</li>
            <li>Home Goods Gems</li>
            <li>The Junk in the Trunk Show</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="schedule-section">
      <h2>SOLD OUT! Shows</h2>
      <p>Tickets Still Available</p>
      <div id="schedule-container"></div>
    </div>

    <div class="consignment-section">
      <h2>Consignment Meets Comedy: How Props Work</h2>
      <p>The Stage Edition of SOLD OUT! Comedy is a consignment marketplace that gives your items something you don't have: an audience. Bring your item in an unsealed, mail-ready box and arrive no earlier than one hour before showtime to check in with our Appraiser. You'll set your net price (what you take home), and we'll set the listing price higher to cover our expenses. If your item sells above the listing price, HEY LOOK A SQUIRREL! During the show, comedians use your items as props in improv scenes—you never know when and if your prop will pop up. If it isn't used in a skit, it will be auctioned off during the Lightning Round! If it sells, you get paid your net price within 3 days. If it doesn't sell, we return it to you after the show. You can choose to participate in selling your item or watch from your seat. It's consignment theater: we provide the audience and entertainment, you provide the props.</p>
    </div>

    <section class="reviews-section">
      <h2 class="section-title">The Fake Reviews Are In</h2>
      <div class="reviews-grid">
        <div class="review-card">
          <img src="web/images/comicsans.png" alt="Jorge B." class="review-photo">
          <div class="review-content">
            <div class="stars"><span class="filled-star">★</span><span class="empty-star">★★★★</span></div>
            <p class="review-text">"I can't believe they didn't use Comic Sans on their website. It seems like a website that would have Comic Sans on it."</p>
            <div class="reviewer">- Jorge B.</div>
          </div>
        </div>
        <div class="review-card">
          <img src="web/images/traderjoes.png" alt="Confused Customer" class="review-photo">
          <div class="review-content">
            <div class="stars"><span class="filled-star">★★★</span><span class="empty-star">★★</span></div>
            <p class="review-text">"I thought I was going to Trader Joe's"</p>
            <div class="reviewer">- Confused Customer</div>
          </div>
        </div>
        <div class="review-card">
          <img src="web/images/banana.png" alt="Fruit Enthusiast" class="review-photo">
          <div class="review-content">
            <div class="stars"><span class="filled-star">★★</span><span class="empty-star">★★★</span></div>
            <p class="review-text">"They sold me a banana for $47. It wasn't even ripe."</p>
            <div class="reviewer">- Fruit Enthusiast</div>
          </div>
        </div>
        <div class="review-card">
          <img src="web/images/knives.png" alt="Sharp Shopper" class="review-photo">
          <div class="review-content">
            <div class="stars"><span class="filled-star">★★★</span><span class="empty-star">★★</span></div>
            <p class="review-text">"I came for the improv but left with 12 kitchen knives. Still confused."</p>
            <div class="reviewer">- Sharp Shopper</div>
          </div>
        </div>
        <div class="review-card">
          <img src="web/images/treadmill.png" alt="Concerned Grandchild" class="review-photo">
          <div class="review-content">
            <div class="stars"><span class="filled-star">★★★★</span><span class="empty-star">★</span></div>
            <p class="review-text">"My grandmother swiped wrong during the show and bought a treadmill. She's 94."</p>
            <div class="reviewer">- Concerned Grandchild</div>
          </div>
        </div>
        <div class="review-card">
          <img src="web/images/rainman.png" alt="Raymond Babbitt" class="review-photo">
          <div class="review-content">
            <div class="stars"><span class="filled-star">★</span><span class="empty-star">★★★★</span></div>
            <p class="review-text">"Charlie Babbitt squeezed and pulled and hurt my neck in 1988"</p>
            <div class="reviewer">- Raymond Babbitt</div>
          </div>
        </div>
        <div class="review-card">
          <img src="web/images/pinkfloyd.png" alt="Floyd" class="review-photo">
          <div class="review-content">
            <div class="stars"><span class="filled-star">★</span><span class="empty-star">★★★★</span></div>
            <p class="review-text">"If tickets are still available, you can't be sold out! How can you be sold out if tickets are still available?!"</p>
            <div class="reviewer">- Floyd</div>
          </div>
        </div>
      </div>
    </section>

    <div class="cta-section">
      <div class="burst-wrap">
        <svg class="burst-svg" viewBox="0 0 1200 600" role="img" aria-label="Comic burst">
          <defs>
            <filter id="comicShadow" x="-20%" y="-20%" width="140%" height="140%">
              <feDropShadow dx="12" dy="12" stdDeviation="4" flood-color="#000" flood-opacity="0.4"/>
            </filter>
          </defs>
          <path d="M600 40  690 120 820 60 770 170 1080 210 820 250
                   1140 340 780 330 910 520 640 400 600 560 560 400
                   290 520 420 330 60 340 380 250 120 210 430 170
                   380 60 510 120 Z"
                fill="#FFD93D" stroke="#2C2C2C" stroke-width="24" stroke-linejoin="round"
                filter="url(#comicShadow)"/>
        </svg>
        <div class="tagline">SELL OUT WITH US.</div>
      </div>
    </div>
  </section>

  <footer id="contact">
    <div class="footer-content">
      <div class="social-links">
        <a href="https://www.instagram.com/soldout.comedy" class="social-link" title="Instagram">
          <img src="web/images/instagram_logo.svg" alt="Instagram" style="width: 70%; height: 70%; object-fit: contain;">
        </a>
        <a href="https://www.facebook.com/profile.php?id=61578903020598" class="social-link" title="Facebook">
          <img src="web/images/facebook_logo.png" alt="Facebook" style="width: 70%; height: 70%; object-fit: contain;">
        </a>
        <a href="https://x.com/soldoutcomedy" class="social-link" title="X">
          <img src="web/images/x_logo.png" alt="X" style="width: 60%; height: 60%; object-fit: contain; filter: invert(1);">
        </a>
        <a href="https://www.youtube.com/@SOLDOUTComedy" class="social-link" title="YouTube">
          <img src="web/images/yt_logo.png" alt="YouTube" style="width: 60%; height: 60%; object-fit: contain;">
        </a>
        <a href="https://www.tiktok.com/@sold.out.comedy" class="social-link" title="TikTok">
          <img src="web/images/tiktok_logo.png" alt="TikTok" style="width: 60%; height: 60%; object-fit: contain;">
        </a>
        <a href="https://poshmark.com/closet/soldoutcomedy" class="social-link" title="Poshmark">
          <img src="web/images/poshmark_logo.png" alt="Poshmark" style="width: 70%; height: 70%; object-fit: contain;">
        </a>
        <a href="https://www.whatnot.com/user/soldoutcomedy" class="social-link" title="Whatnot">
          <img src="web/images/whatnot.jpg" alt="Whatnot" style="width: 70%; height: 70%; object-fit: contain;">
        </a>
        <a href="https://www.pretzels.com/collections/all" class="social-link" title="Pretzels">
          <img src="https://cdn.shopify.com/s/files/1/0562/4332/3051/files/f16a5d2567b5cc3589e3a0de5804979e9696a88a.png?v=1756135246" alt="Pretzels" style="width: 70%; height: 70%; object-fit: contain;">
        </a>
        <a href="https://soldoutcomedy.bsky.social" class="social-link" title="Blue Sky">
          <img src="web/images/Bluesky_Logo.svg" alt="Blue Sky" style="width: 70%; height: 70%; object-fit: contain;">
        </a>
        <a href="https://www.threads.com/@soldout.comedy?hl=en" class="social-link" title="Threads">
          <img src="web/images/threads_logo.png" alt="Threads" style="width: 70%; height: 70%; object-fit: contain;">
        </a>
        <a href="https://www.reddit.com/user/SOLDOUTComedy/submitted/" class="social-link" title="Reddit">
          <svg viewBox="0 0 24 24" style="width: 70%; height: 70%;" fill="#FF4500">
            <path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/>
          </svg>
        </a>
      </div>
      <div class="copyright">
        <p>&copy; 2025 SOLD OUT! Comedy</p>
      </div>
    </div>
  </footer>

  <!-- BORING LINKS -->
  <footer class="boring-footer">
    <div class="boring-footer-content">
      <a href="https://www.notion.so/SOLD-OUT-Comedy-BACKSTAGE-26360a0626ed80d2babee637915de291">BACKSTAGE</a>
      <span class="separator">|</span>
      <a href="#" id="consignmentGuidelinesLink">CONSIGNMENT GUIDELINES</a>
      <span class="separator">|</span>
      <a href="https://help.whatnot.com/hc/en-us/articles/360061224972-Prohibited-or-Restricted-Items-on-Whatnot" target="_blank" rel="noopener noreferrer">PROHIBITED ITEMS</a>
      <span class="separator">|</span>
      <a href="https://news.uchicago.edu/explainer/improv-explained" target="_blank" rel="noopener noreferrer">IMPROV EXPLAINED</a>
    </div>
  </footer>

  <!-- CONSIGNMENT GUIDELINES MODAL -->
  <div class="modal-overlay" id="consignmentModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Consignment Guidelines</h2>
        <button class="modal-close" id="closeModal">&times;</button>
      </div>
      <div class="modal-body">
        <h3>How It Works</h3>
        <p><strong>Auction Format:</strong> Your item will be auctioned during a SOLD OUT! Comedy Show in a format determined by our production team. Think of it as consignment theater—we provide the audience and entertainment, you provide the props!</p>

        <h3>Pricing & Payment</h3>
        <ul>
          <li><strong>Net Price:</strong> You set the amount you're willing to receive for your item</li>
          <li><strong>Listing Price:</strong> We set the listing price, which includes all taxes, fees, shipping, and handling costs</li>
          <li><strong>Our Cut:</strong> Any amount received above your Net Price belongs to SOLD OUT! Comedy</li>
          <li><strong>Payment:</strong> If your item sells, you receive exactly your Net Price within 3 days of sale</li>
        </ul>

        <h3>Check-In Process</h3>
        <ul>
          <li>Bring your item in an unsealed, mail-ready box</li>
          <li>Arrive no earlier than one hour before showtime</li>
          <li>Check in with our Appraiser to set your net price</li>
          <li>You can choose to participate in selling your item or watch from your seat</li>
        </ul>

        <h3>During the Show</h3>
        <ul>
          <li>Comedians use your items as props in improv scenes</li>
          <li>You never know when or if your prop will pop up!</li>
          <li>If it isn't used in a skit, it will be auctioned during the Lightning Round</li>
          <li>The production team has final say on item participation and usage</li>
        </ul>

        <h3>If Your Item Doesn't Sell</h3>
        <ul>
          <li>We'll return it to you after the show (our goal is immediate, in-person return)</li>
          <li>Official policy: returned within 14 days at consignor's expense</li>
        </ul>

        <h3>Important Terms</h3>
        <ul>
          <li><strong>Condition:</strong> You warrant the item is as described and you have clear title to sell</li>
          <li><strong>Final Sales:</strong> All sales are final—no returns or refunds permitted. No takesy backsies!</li>
          <li><strong>Liability:</strong> You release SOLD OUT! Comedy from any liability related to your item, its sale, or your participation</li>
          <li><strong>Promotion:</strong> You grant permission to photograph and promote the item across all media platforms</li>
        </ul>

        <p style="margin-top: 2rem; padding-top: 1.5rem; border-top: 2px solid #f0f0f0; font-size: 0.9rem; color: #666;">
          Ready to consign? Check in with our Appraiser when you arrive at the show, or visit our <a href="props/input.html" style="color: var(--comic-red); font-weight: 600;">Prop Check-In form</a> to get started.
        </p>
      </div>
    </div>
  </div>

<script>
// === INITIALIZATION ===
document.addEventListener('DOMContentLoaded', () => {
  loadRandomTagline();
  randomizeSocialIconTilts();
  loadSchedule();
  initConsignmentModal();
});

// === HELPER FUNCTIONS ===
function makeStatusLine(targetEl, id, above = true) {
  return (msg) => { console.log(`[SOLD OUT][${id}]`, msg); };
}

function randomizeSocialIconTilts() {
  const socialLinks = document.querySelectorAll('.social-link');
  socialLinks.forEach(link => {
    const randomTilt = (Math.random() - 0.5) * 30;
    link.style.transform = `rotate(${randomTilt}deg)`;
  });
}

async function fetchFirstWorking(candidates, idForLogs) {
  let lastErr;
  for (const url of candidates) {
    try {
      const res = await fetch(url, { cache: 'no-cache' });
      if (!res.ok) {
        console.warn(`[${idForLogs}] ${url} -> HTTP ${res.status}`);
        continue;
      }
      const text = await res.text();
      console.info(`[${idForLogs}] loaded from ${url}`);
      return text;
    } catch (e) {
      console.warn(`[${idForLogs}] ${url} failed`, e);
      lastErr = e;
    }
  }
  throw lastErr || new Error('No candidate URL worked.');
}

// === TAGLINE LOADER ===
async function loadRandomTagline() {
  const el = document.querySelector('.hero-subtitle');
  if (!el) return;

  const status = makeStatusLine(el, 'taglines-debug');

  if (location.protocol === 'file:') {
    status('Cannot load taglines.xml over file:// — run a local server (e.g., "npx serve").');
    el.textContent = 'Live Comedy Meets Live Shopping';
    return;
  }

  const candidates = [
    'web/taglines.xml',
    './taglines.xml',
    '../web/taglines.xml'
  ];

  try {
    const xmlText = await fetchFirstWorking(candidates, 'taglines');
    const doc = new DOMParser().parseFromString(xmlText, 'text/xml');
    const parseErr = doc.querySelector('parsererror');

    if (parseErr) {
      status('taglines.xml parser error — check console');
      console.error('[taglines] parsererror:', parseErr.textContent);
      el.textContent = 'Live Comedy Meets Live Shopping';
      return;
    }

    const items = [...doc.querySelectorAll('taglines > tagline')]
      .map(n => n.textContent?.trim())
      .filter(Boolean);

    if (!items.length) {
      status('taglines.xml loaded, but no <tagline> items found');
      el.textContent = 'Live Comedy Meets Live Shopping';
      return;
    }

    const choice = items[Math.floor(Math.random() * items.length)];
    el.textContent = choice;
    status(`Loaded ${items.length} taglines`);
  } catch (err) {
    status('Failed to load taglines (see console)');
    console.error('[taglines] load failed:', err);
    el.textContent = 'Live Comedy Meets Live Shopping';
  }
}

// === SCHEDULE LOADER ===
async function loadSchedule() {
  const container = document.getElementById('schedule-container');
  if (!container) return;

  const status = makeStatusLine(container, 'schedule-debug');

  const ADD_TO_CAL = 'https://cnn.com';
  const WATCH_URL = 'https://www.whatnot.com/user/soldoutcomedy';

  if (location.protocol === 'file:') {
    status('Cannot load shows.xml over file:// — run a local server (e.g., "npx serve").');
    container.innerHTML = '<p style="text-align:center;font-weight:600">More Shows Coming Soon</p>';
    return;
  }

  const candidates = [
    'web/shows.xml',
    './shows.xml',
    '../web/shows.xml'
  ];

  function parseUTCDateTime(datetimeStr) {
    if (!datetimeStr) return null;
    const dt = new Date(datetimeStr);
    return isNaN(dt.getTime()) ? null : dt;
  }

  function getTimezoneAbbr(date) {
    const str = date.toLocaleTimeString('en-US', { timeZoneName: 'short' });
    const match = str.match(/\b([A-Z]{3,5})\b/);
    return match ? match[1] : '';
  }

  const fmtDate = (d) => d?.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' }) || '';

  const fmtTime = (d, includeTZ = true) => {
    if (!d) return '';
    const time = d.toLocaleTimeString('en-US', { hour: 'numeric', minute: '2-digit' }).toLowerCase();
    if (!includeTZ) return time;
    const tz = getTimezoneAbbr(d);
    return `${time} ${tz}`;
  };

  function parseAppraisalTimes(appraisalStr) {
    if (!appraisalStr) return null;
    const parts = appraisalStr.split(' - ').map(s => s.trim());
    if (parts.length !== 2) return null;
    const start = parseUTCDateTime(parts[0]);
    const end = parseUTCDateTime(parts[1]);
    if (!start || !end) return null;
    return { start, end };
  }

  function makeGoogleCalendarLink(show) {
    if (!show.start) return ADD_TO_CAL;

    let endTime;
    if (show.end) {
      endTime = show.end;
    } else {
      const durationHours = show.type === 'screen' ? 1 : 2;
      endTime = new Date(show.start.getTime() + (durationHours * 60 * 60 * 1000));
    }

    const formatGCal = (d) => {
      const pad = (n) => String(n).padStart(2, '0');
      return `${d.getFullYear()}${pad(d.getMonth() + 1)}${pad(d.getDate())}T${pad(d.getHours())}${pad(d.getMinutes())}${pad(d.getSeconds())}`;
    };

    const title = `SOLD OUT! Comedy - ${show.type === 'stage' ? 'Stage Edition' : 'Screen Edition'}`;
    const location = show.address || (show.type === 'screen' ? 'Online' : show.location || '');

    let description = '';
    if (show.venue) description += `${show.venue}\n`;
    if (show.location && show.type === 'stage') description += `${show.location}\n`;
    if (show.type === 'stage' && show.appraisalTimes) {
      const apprStart = fmtTime(show.appraisalTimes.start, false);
      const apprEnd = fmtTime(show.appraisalTimes.end, false);
      description += `\nAppraisals: ${apprStart} - ${apprEnd}\n`;
    }
    if (show.watch) description += `\nWatch Live: ${show.watch}`;

    if (show.type === 'stage') {
      description += '\n\nLive comedy meets live shopping! Your items become props in improv scenes.';
    } else {
      description += '\n\nWatch and bid from the Whatnot app.';
    }

    description += '\n\nhttps://soldoutcomedy.com';

    const params = new URLSearchParams({
      action: 'TEMPLATE',
      text: title,
      dates: `${formatGCal(show.start)}/${formatGCal(endTime)}`,
      details: description,
      location: location
    });

    return `https://calendar.google.com/calendar/render?${params.toString()}`;
  }

  try {
    const xmlText = await fetchFirstWorking(candidates, 'schedule');
    const doc = new DOMParser().parseFromString(xmlText, 'text/xml');
    const parseErr = doc.querySelector('parsererror');

    if (parseErr) {
      status('shows.xml parser error — check console');
      console.error('[schedule] parsererror:', parseErr.textContent);
      container.innerHTML = '<p style="text-align:center;font-weight:600">Problem parsing <code>shows.xml</code>.</p>';
      return;
    }

    const nodes = [...doc.querySelectorAll('shows > show')];
    if (!nodes.length) {
      status('shows.xml loaded but contained 0 <show> nodes');
      container.innerHTML = '<p style="text-align:center;font-weight:600">No shows found in <code>shows.xml</code>.</p>';
      return;
    }

    const shows = nodes
      .filter(show => show.querySelector('verified')?.textContent?.trim().toLowerCase() === 'yes')
      .map(show => {
        const datetimeStr = show.querySelector('datetime')?.textContent?.trim() || '';
        const datetimeendStr = show.querySelector('datetimeend')?.textContent?.trim() || '';
        const appraisalStr = show.querySelector('appraisal')?.textContent?.trim() || '';
        const o = {
          type: show.getAttribute('type')?.trim() || '',
          datetime: datetimeStr,
          datetimeend: datetimeendStr,
          theme: show.querySelector('theme')?.textContent?.trim() || '',
          venue: show.querySelector('venue')?.textContent?.trim() || '',
          location: show.querySelector('location')?.textContent?.trim() || '',
          address: show.querySelector('address')?.textContent?.trim() || '',
          watch: show.querySelector('watch')?.textContent?.trim() || '',
          addtocalendar: show.querySelector('addtocalendar')?.textContent?.trim() || '',
          appraisal: appraisalStr,
          appraisalTimes: parseAppraisalTimes(appraisalStr),
          icon: show.querySelector('icon')?.textContent?.trim() || ''
        };
        o.start = parseUTCDateTime(o.datetime);
        o.end = parseUTCDateTime(o.datetimeend);
        if (!o.start) o._parseError = `Bad datetime: "${o.datetime}"`;
        return o;
      });

    if (shows.every(s => !s.start)) {
      status('All shows failed datetime parsing — see console');
      console.table(shows.map(s => ({ datetime: s.datetime, error: s._parseError || null })));
      container.innerHTML = '<p style="text-align:center;font-weight:600;grid-column:1/-1;font-size:1.2rem;">More Shows Coming Soon</p>';
      return;
    }

    const now = new Date();
    const upcoming = shows.filter(s => s.start && s.start >= now).sort((a, b) => a.start - b.start);
    const past = shows.filter(s => s.start && s.start < now).sort((a, b) => b.start - a.start);
    const sorted = [...upcoming, ...past];

    container.innerHTML = sorted.map(s => {
      const isPast = s.start < now;
      const burstFill = s.type === 'stage' ? '#FF3B3B' : '#4A90E2';
      const ribbon = s.type === 'stage' ? 'STAGE EDITION' : 'SCREEN EDITION';
      const mapsLink = s.address ? `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(s.address)}` : '';
      const watchUrl = s.watch || WATCH_URL;
      const calUrl = makeGoogleCalendarLink(s);

      return `
        <div style="border:5px solid var(--comic-black);border-top:12px solid ${burstFill};box-shadow:6px 6px 0 rgba(0,0,0,.3);position:relative;display:flex;flex-direction:column;min-height:450px;background:var(--comic-white);box-sizing:border-box;">
          <div style="position:absolute;top:-35px;left:-30px;z-index:10;">
            <svg width="180" height="70" viewBox="0 0 220 80" style="filter:drop-shadow(4px 4px 0 rgba(0,0,0,.3));">
              <path d="M110 5 130 25 170 15 155 35 200 45 160 50 180 70 130 55 110 75 90 55 40 70 60 50 20 45 65 35 50 15 90 25 Z"
                    fill="${burstFill}" stroke="#2C2C2C" stroke-width="3" stroke-linejoin="round"/>
            </svg>
            <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) rotate(${s.type === 'stage' ? '-8' : '8'}deg);
                        font-family:'Bangers',cursive;font-size:.9rem;color:#FFD93D;letter-spacing:1px;white-space:nowrap;
                        text-shadow:2px 2px 0 #2C2C2C;">${ribbon}</div>
          </div>

          <div style="padding:2.5rem 2rem 2rem 2rem;display:flex;flex-direction:column;align-items:center;flex-grow:1;${isPast ? 'opacity:.5;' : ''}">
            ${s.icon ? `<img src="${s.icon}" alt="${s.theme || 'Show'}" style="width:120px;height:120px;object-fit:contain;margin-bottom:1rem;border-radius:10px;border:3px solid var(--comic-black);box-shadow:4px 4px 0 rgba(0,0,0,.3);" onerror="this.style.display='none'">` : ''}
            ${s.theme ? `<div style="font-family:'Bangers',cursive;font-size:2rem;color:${burstFill};letter-spacing:1px;margin-bottom:1rem;line-height:1.2;text-align:center;width:100%;">${s.theme}</div>` : ''}
            ${s.venue ? (s.address && mapsLink
                ? `<a href="${mapsLink}" target="_blank" style="color:var(--comic-black);text-decoration:none;font-family:'Bangers',cursive;font-size:1.6rem;font-weight:400;margin-bottom:.25rem;letter-spacing:1px;line-height:1.2;text-align:center;width:100%;display:block;">${s.venue}</a>`
                : `<div style="color:var(--comic-black);font-family:'Bangers',cursive;font-size:1.6rem;font-weight:400;margin-bottom:.25rem;letter-spacing:1px;line-height:1.2;text-align:center;width:100%;">${s.venue}</div>`)
              : ''}
            ${s.location ? `<div style="font-family:'Bangers',cursive;font-size:1rem;font-weight:400;color:${burstFill};margin-bottom:.75rem;letter-spacing:1px;text-align:center;width:100%;">${s.location}</div>` : ''}

            <div style="font-family:'Bangers',cursive;font-size:clamp(1.1rem,3.5vw,1.6rem);font-weight:400;color:var(--comic-black);margin-bottom:.25rem;line-height:1.2;letter-spacing:1px;text-align:center;width:100%;">
              ${fmtDate(s.start)}
            </div>

            <div style="font-family:'Bangers',cursive;font-size:1rem;color:${burstFill};letter-spacing:2px;margin-bottom:.25rem;line-height:1.2;text-align:center;width:100%;">
              ${fmtTime(s.start)}
            </div>

            ${s.type === 'stage' && s.appraisalTimes ? `<div style="font-family:'Bangers',cursive;font-size:1rem;font-weight:400;color:${burstFill};margin-top:auto;letter-spacing:1px;text-align:center;width:100%;">Appraisals: ${fmtTime(s.appraisalTimes.start, false)} - ${fmtTime(s.appraisalTimes.end, false)}</div>` : `<div style="margin-top:auto;"></div>`}
          </div>

          <div style="padding:0 2rem 2rem 2rem;display:flex;flex-direction:column;gap:.75rem;">
            <a href="${calUrl}" target="_blank" style="width:100%;box-sizing:border-box;display:flex;align-items:center;justify-content:center;background:var(--comic-yellow);color:var(--comic-black);padding:1rem;border:4px solid var(--comic-black);text-decoration:none;font-weight:700;box-shadow:5px 5px 0 rgba(0,0,0,.3);font-family:'Bangers',cursive;font-size:1.3rem;letter-spacing:1.5px;text-shadow:2px 2px 0 var(--comic-white);transition:transform .2s,box-shadow .2s;${isPast ? 'opacity:.5;pointer-events:none;' : ''}">ADD TO CALENDAR</a>
            <a href="${isPast ? 'https://www.youtube.com/playlist?list=PL3og3QprCN4O6pIv2dCuB-MxCsQ0oj0eW' : watchUrl}" target="_blank" style="width:100%;box-sizing:border-box;display:flex;align-items:center;justify-content:center;background:var(--comic-green);color:var(--comic-white);padding:1rem;border:4px solid var(--comic-black);text-decoration:none;font-weight:700;box-shadow:5px 5px 0 rgba(0,0,0,.3);font-family:'Bangers',cursive;font-size:1.3rem;letter-spacing:1.5px;text-shadow:2px 2px 0 var(--comic-black);transition:transform .2s,box-shadow .2s;">${isPast ? 'WATCH RERUN' : 'WATCH LIVE'}</a>
          </div>
        </div>
      `;
    }).join('');

    const bad = shows.filter(s => s._parseError);
    if (bad.length) {
      status(`Rendered ${sorted.length} shows • ${bad.length} had datetime issues (see console)`);
      console.table(bad.map(s => ({ datetime: s.datetime, error: s._parseError })));
    } else {
      status(`Rendered ${sorted.length} shows`);
    }

  } catch (err) {
    status('Failed to load schedule (see console)');
    console.error('[schedule] load failed:', err);
    container.innerHTML = '<p style="text-align:center;font-weight:600">More Shows Coming Soon</p>';
  }
}

// === CONSIGNMENT MODAL ===
function initConsignmentModal() {
  const modal = document.getElementById('consignmentModal');
  const openLink = document.getElementById('consignmentGuidelinesLink');
  const closeBtn = document.getElementById('closeModal');

  if (!modal || !openLink || !closeBtn) return;

  // Open modal
  openLink.addEventListener('click', (e) => {
    e.preventDefault();
    modal.classList.add('active');
    document.body.style.overflow = 'hidden';
  });

  // Close modal on X button click
  closeBtn.addEventListener('click', () => {
    modal.classList.remove('active');
    document.body.style.overflow = '';
  });

  // Close modal on overlay click
  modal.addEventListener('click', (e) => {
    if (e.target === modal) {
      modal.classList.remove('active');
      document.body.style.overflow = '';
    }
  });

  // Close modal on ESC key
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && modal.classList.contains('active')) {
      modal.classList.remove('active');
      document.body.style.overflow = '';
    }
  });
}
</script>
</body>
</html>
